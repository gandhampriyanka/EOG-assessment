## Create React App Visualization

This assessment was bespoke handcrafted for Priyanka Gandham.

Read more about this assessment [here](https://react.eogresources.com)

### Overview:

This project displays a dahboard to visualize the real time and historic values of a set of equipments in the field.

## Getting Started
To run the application locally:

* Clone this repo
* Do a yarn Install - To install all dependencies
* yarn start - To start the application (The app runs on http://localhost:3000/)

This project uses React, Redux Saga, Material-UI, GraphQL with TypeScript.

### TechStack Used

React- For creating components
React-Saga - For store management
GraphQL - To Query API and fetch data
- A Parent Component to display the set of Equipment list
Child Components are:
Chart component to display the graph
A component for last know measurement

The components used in this project are functional components with Typescript
React- Hooks (useState) is used to update the initial state with the user selected equipment value and is 
passed to its child component (Chart and Last Known measurement component) as props.
State is also updated when user de-selects the value and the view is updated with the
remaining selected list.

### Packages Used:

"react-select"- To display the DropDown Equipment List

"recharts"- (Line Chart) - To generate the Selected Equipment List Chart



### Initial View:

-Displays the DropDown box (with auto focus), User can type an "Equipment Type value" or can 

![InitialView](InitialView.png)

click on DropDown to view the list and select from it. 

![EquipmentList](EquipmentList.png)

The list of Equipments is generated by using graphQL query:

query {
  getMetrics
}

Response:
{
  "data": {
    "getMetrics": [
      "flareTemp",
      "waterTemp",
      "casingPressure",
      "oilTemp",
      "tubingPressure",
      "injValveOpen"
    ]
  }
}
After a Equipment type value is seleted from the DropDown list:
![Equipment1](Equipment1.png)

The body section displays the Chart and Individual counts of selected Equipment
The Query used to get Chart Data:

query($input: [MeasurementQuery]!) {
  getMultipleMeasurements(input: $input) {
    metric
    measurements {
      metric
      at
      value
      unit
    }
  }
}

Query Parameters
{
    "input":[{
      "metricName": "oilTemp",
      "after": timeinmillisec,
      "before": timeinmillisec
    },
      {
      "metricName": "waterTemp",
      "after": timeinmillisec,
      "before": timeinmillisec
      }
    ]
    }


Response:
{
  "data": {
    "getMultipleMeasurements": [
      {
        "metric": "oilTemp",
        "measurements": [
          {
            "metric": "oilTemp",
            "at": 1597432379833,
            "value": 48.67,
            "unit": "F"
          },
          {
            "metric": "oilTemp",
            "at": 1597432379633,
            "value": 37.14,
            "unit": "F"
          },
]
},
{
        "metric": "waterTemp",
        "measurements": [
          {
            "metric": "waterTemp",
            "at": 1597432376833,
            "value": 143.05,
            "unit": "F"
          },
          {
            "metric": "waterTemp",
            "at": 1597432376833,
            "value": 123.47,
            "unit": "F"
          }
]
}
}
### Multiple Charts View:
![AllEquipments](AllEquipments.png)
